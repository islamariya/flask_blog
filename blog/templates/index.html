{% extends 'base.html' %}

{% block content %}

<div class="container" xmlns="http://www.w3.org/1999/html">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        {% for post in posts.items %}
        <div class="post-preview">
          <a href="{{ url_for('post_detail', post_id=post.post_id)}}">
            <h2 class="post-title">
              {{ post.post_title }}
            </h2>
            <h3 class="post-subtitle">
              {{ post.short_description}}
            </h3>
          </a>
          <p class="post-meta"><i class="fas fa-user-astronaut"></i>
            <a href="{{ url_for('posts_by_user', user_id=post.user.id) }}"> {{ post.user.user_name }}</a>
            <i class="far fa-calendar-alt"></i> {{ post.post_date_creation.strftime('%d-%m-%Y') }}</p>
        </div>
        <hr>
        {% endfor %}
        <!-- Pager -->
        {% if posts.has_prev %}
        <div class="clearfix">
          <a class="btn btn-primary float-right"
             href="{{ url_for('index_page', page = posts.prev_num) }}"><< Назад </a>
        </div>
        {% else %}
        {% endif %}
        {% if posts.has_next %}
        <div class="clearfix">
          <a class="btn btn-primary float-right"
             href="{{ url_for('index_page', page = posts.next_num) }}"> Вперед >></a>
        </div>
        {% else %}
        {% endif %}

      </div>
    </div>
  </div>

{% endblock %}